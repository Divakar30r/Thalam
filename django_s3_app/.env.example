# Django S3 App Environment Configuration
# Copy this to .env and fill in your actual values

# Django Settings
SECRET_KEY=django-insecure-change-this-in-production
DEBUG=true
ALLOWED_HOSTS=localhost,127.0.0.1

# AWS S3 Configuration
# Authentication uses STS AssumeRole pattern:
# 1. Dedicated IAM user credentials (below) are used to call STS AssumeRole
# 2. IAM role with S3 permissions is assumed
# 3. Temporary credentials are cached and automatically refreshed
#
# Dedicated IAM User credentials (has permission to assume the role)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# IAM Role ARN to assume (this role should have S3 permissions)
# Example: arn:aws:iam::123456789012:role/S3AccessRole
AWS_ROLE_ARN=
AWS_ROLE_SESSION_NAME=s3-service-session
AWS_ROLE_SESSION_DURATION=14400  # 4 hours in seconds

# Required IAM Role Permissions (attach to the role):
#   - s3:GetObject
#   - s3:PutObject
#   - s3:HeadObject
#   - s3:DeleteObject
#   - s3:GetObjectMetadata
#   - s3:ListBucket
#
# Required IAM User Permissions (attach to the user):
#   - sts:AssumeRole (for the specific role ARN above)

# S3 Bucket configuration
AWS_S3_BUCKET_NAME=
AWS_S3_REGION_NAME=us-east-1
AWS_S3_SSE_ALGORITHM=AES256
AWS_S3_PRESIGNED_URL_EXPIRY=3600
AWS_S3_PUBLIC_URL_EXPIRY=86400

# Keycloak Configuration
KEYCLOAK_SERVER_URL=http://localhost:9090
KEYCLOAK_REALM=OrderMgmt
KEYCLOAK_CLIENT_ID=DivRealmAdministratorOrder
KEYCLOAK_CLIENT_SECRET=33A7frNBAdtbUJLXMIa6YiwCaTiJgope
KEYCLOAK_USER_ROLES=BUY,SEL
KEYCLOAK_TOKEN_CACHE_TIMEOUT=3600
KEYCLOAK_REQUEST_TIMEOUT=30
KEYCLOAK_ADMIN_URL=http://localhost:9090/admin/realms/OrderMgmt
KEYCLOAK_ISSUER =http://localhost:9090/realms/OrderMgmt
KEYCLOAK_JWKS_URI=http://localhost:9090/realms/OrderMgmt/protocol/openid-connect/certs
KEYCLOAK_AUDIENCE=account
KEYCLOAK_SERVICE_ACCOUNT_EMAIL=

# API Configuration
FASTAPI_APP_BASE_URL=http://localhost:8001
 

# Kafka Configuration (AWS MSK)
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_SECURITY_PROTOCOL=
KAFKA_SASL_MECHANISM=
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:8000,http://localhost:8081,http://localhost:9090