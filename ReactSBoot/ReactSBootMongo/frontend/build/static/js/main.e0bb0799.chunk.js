(this.webpackJsonpreactsbootmongo=this.webpackJsonpreactsbootmongo||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var o=n(2),c=n.n(o),r=n(15),a=n.n(r),i=n(3),s=n(0);var l=e=>{let{record:t,onSubmit:n}=e;const[c,r]=Object(o.useState)({name:"",address:"",landmark:"",taluk:"",pincode:"",geolocation:{collectioncentre:"",proximity:"",coordinates:{latitude:"",longitude:""}}});Object(o.useEffect)((()=>{t&&r(t)}),[t]);const a=e=>{const{name:t,value:n}=e.target;r((e=>Object(i.a)(Object(i.a)({},e),{},{[t]:n})))},l=e=>{const{name:t,value:n}=e.target,o=t.split(".");r((e=>{const t=Object(i.a)({},e);let c=t;for(let n=0;n<o.length-1;n++)c[o[n]]||(c[o[n]]={}),c=c[o[n]];return c[o[o.length-1]]=n,t}))};return Object(s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n(c)},children:[Object(s.jsx)("input",{type:"text",name:"name",value:c.name,onChange:a,placeholder:"Name",required:!0}),Object(s.jsx)("input",{type:"text",name:"address",value:c.address,onChange:a,placeholder:"Address",required:!0}),Object(s.jsx)("input",{type:"text",name:"landmark",value:c.landmark,onChange:a,placeholder:"Landmark"}),Object(s.jsx)("input",{type:"text",name:"taluk",value:c.taluk,onChange:a,placeholder:"Taluk"}),Object(s.jsx)("input",{type:"number",name:"pincode",value:c.pincode,onChange:a,placeholder:"Pincode",required:!0}),Object(s.jsx)("input",{type:"text",name:"geolocation.collectioncentre",value:c.geolocation.collectioncentre,onChange:l,placeholder:"Collection Centre"}),Object(s.jsx)("input",{type:"text",name:"geolocation.proximity",value:c.geolocation.proximity,onChange:l,placeholder:"Proximity"}),Object(s.jsx)("input",{type:"number",name:"geolocation.coordinates.latitude",value:c.geolocation.coordinates.latitude,onChange:l,placeholder:"Latitude",required:!0}),Object(s.jsx)("input",{type:"number",name:"geolocation.coordinates.longitude",value:c.geolocation.coordinates.longitude,onChange:l,placeholder:"Longitude",required:!0}),Object(s.jsx)("button",{type:"submit",children:"Submit"})]})},d=n(6),j=n.n(d);var b=()=>{const[e,t]=Object(o.useState)([]);Object(o.useEffect)((()=>{n()}),[]);const n=async()=>{try{const e=await j.a.get("/api/records");t(e.data)}catch(e){console.error("Error fetching records:",e)}};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{children:"Record List"}),Object(s.jsx)("ul",{children:e.map((e=>Object(s.jsxs)("li",{children:[Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:"Name:"})," ",e.name,Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Address:"})," ",e.address,Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Landmark:"})," ",e.landmark,Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Taluk:"})," ",e.taluk,Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Pincode:"})," ",e.pincode,Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Collection Centre:"})," ",e.geolocation.collectioncentre,Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Proximity:"})," ",e.geolocation.proximity,Object(s.jsx)("br",{}),Object(s.jsx)("strong",{children:"Coordinates:"})," ",e.geolocation.coordinates.latitude,", ",e.geolocation.coordinates.longitude]}),Object(s.jsx)("button",{onClick:()=>(async e=>{try{await j.a.delete("/api/records/".concat(e)),n()}catch(t){console.error("Error deleting record:",t)}})(e.id),children:"Delete"})]},e.id)))})]})};var u=function(){const[e,t]=Object(o.useState)([]);Object(o.useEffect)((()=>{n()}),[]);const n=async()=>{const e=await fetch("/api/records"),n=await e.json();t(n)};return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Record Management"}),Object(s.jsx)(l,{onSubmit:async e=>{await fetch("/api/records",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),n()}}),Object(s.jsx)(b,{records:e,deleteRecord:async e=>{await fetch("/api/records/".concat(e),{method:"DELETE"}),n()}})]})};n(40);a.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(u,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.e0bb0799.chunk.js.map